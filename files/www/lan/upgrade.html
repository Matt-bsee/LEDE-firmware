<!DOCTYPE html>

<html>
<head>
<title>Upgrade</title>
<meta charset="utf-8"/>
<link rel="stylesheet" type="text/css" href="style.css" />
<script src="shared.js"></script>
<script src="upgrade.js"></script>
</head>
<body onload="init();">

<fieldset>
	<legend>Aktuelle Firmware suchen</legend>
	<div>
		<button type="button" onclick="lookup_upgrade()">Suchen</button>
		<button type="button" onclick="lookup_and_apply_upgrade()">Suchen und Aktualisieren</button>
	</div>
	<p>Die <a href="https://ffbsee.de/index.php/Hauptseite">Freifunk-Community Bodensee</a> bietet neue Firmware-Versionen f√ºr diesen Router an. Diese enthalten Fehlerbereinigungen und neue Funktionen.</p>
</fieldset>
<fieldset>
	<legend>Router zur&#252;cksetzen</legend>
	<div>
		<button type="button" onclick="restore_firmware()">Zur&#252;cksetzen</button>
	</div>
	<p>Alle Einstellungen werden zur&#252;ckgesetzt und der Router startet neu.</p>
</fieldset>
<fieldset>
	<legend>Manuelles Update</legend>
	<div id="selected_image"></div>
	<form action="/cgi-bin/upgrade" enctype="multipart/form-data" method="post">
	<div class="radio_option">
		<label>
			<input type="file" id="import_file" name="firmware" onchange="$('selected_image').innerHTML=this.value.replace(/^.*[\\\/](.*)$/, '$1');" style="visibility:hidden;position:absolute;top:-50;left:-50"/>
			<input type="hidden" name="func" value="apply_firmware" />
			<button type="button" onclick="$('import_file').click()">Image Ausw&auml;hlen</button>
			<button type="submit">Senden</button>
		</label>
		<div>
			<input type="checkbox" name="keep_config" value="yes" checked>
			<label>Konfiguration beibehalten</label>
		</div>
	</div>
	</form>
	<p>Hier kann ein Freifunk-Image verwendet werden (*-sysupgrade.bin) oder die <a href="https://de.wikipedia.org/wiki/Firmware">Firmware</a> des Routerherstellers.</p>
</fieldset>


</body>
</html>
